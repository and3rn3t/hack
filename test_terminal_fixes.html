<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Terminal API Test</title>
        <script src="https://cdn.jsdelivr.net/npm/xterm@5.3.0/lib/xterm.js"></script>
        <link
            rel="stylesheet"
            href="https://cdn.jsdelivr.net/npm/xterm@5.3.0/css/xterm.css"
        />
    </head>
    <body>
        <div id="terminal" style="width: 100%; height: 400px"></div>
        <button onclick="testTerminalOptions()">Test Terminal Options</button>
        <div id="results"></div>

        <script>
            const terminal = new Terminal({
                fontSize: 14,
                cursorBlink: true,
            });

            terminal.open(document.getElementById("terminal"));
            terminal.write("Terminal API Test\r\n");

            function testTerminalOptions() {
                const results = document.getElementById("results");
                results.innerHTML = "<h3>Testing Terminal API:</h3>";

                try {
                    // Test the new API (should work)
                    terminal.options.fontSize = 16;
                    results.innerHTML +=
                        "<p>✅ terminal.options.fontSize = 16 (SUCCESS)</p>";

                    terminal.options.cursorBlink = false;
                    results.innerHTML +=
                        "<p>✅ terminal.options.cursorBlink = false (SUCCESS)</p>";

                    terminal.options.scrollback = 500;
                    results.innerHTML +=
                        "<p>✅ terminal.options.scrollback = 500 (SUCCESS)</p>";

                    // Test if old API would fail
                    if (typeof terminal.setOption === "function") {
                        results.innerHTML +=
                            "<p>⚠️ Old setOption API is still available</p>";
                    } else {
                        results.innerHTML +=
                            "<p>✅ Old setOption API properly removed</p>";
                    }

                    terminal.write("\r\nAPI tests completed successfully!\r\n");
                    terminal.write(
                        "Font size: " + terminal.options.fontSize + "\r\n"
                    );
                } catch (error) {
                    results.innerHTML +=
                        "<p>❌ ERROR: " + error.message + "</p>";
                }
            }

            // Auto-run test after 1 second
            setTimeout(testTerminalOptions, 1000);
        </script>
    </body>
</html>
